<!-- This is for the actual single article -->


<!DOCTYPE html>
<html lang="en">
<head>
  <title>Localization | Planet Express</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<meta name="description" content="Review of robot localization - still a work in progress"><meta name="author" content="walchko">  <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
  <meta http-equiv="Cache-Control" content="max-age=604800, must-revalidate" />
  <link href="../../../../theme/css/screen.css" rel="stylesheet" type="text/css" />
  <link href="../../../../theme/css/pygments.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="../../../../favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon">
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
  <div class="logo"><a href="../../../..">Planet Express</a></div>
  <div class="small">Our crew is replaceable. Your package isn't.</div>
  <div class="nav">
  <li><a href="../../../../about.html">About Me</a></li>
  <li><a href="../../../../colophon.html">Colophon</a></li>
  <li><a href="../../../../categories.html">Topics</a></li>
  <li><a href="../../../../archives.html">Blog</a></li>
  </div>
  <div class="nav social">
<ul>
    <li><a href="http://github.com/walchko"><i class="fa fa-github-alt fa-2x"></i></a></li>
    <li><a href="http://stackoverflow.com/users/5374768/kevin"><i class="fa fa-stack-overflow fa-2x"></i></a></li>
    <li><a href="http://raspberrypi.stackexchange.com/users/1677/kevin"><i class="fa fa-stack-exchange fa-2x"></i></a></li>
</ul>  </div>
</div>    <div id="main">

<!--  -->

<h2><a href="../../../../posts/2016/04/localization">Localization</a></h2>
<h5><i class="icon-feather"></i> Tue 05 April 2016
<i class="icon-bookmarks"></i>
</h5>

<p>These notes were taken from the <a class="reference external" href="http://www.udacity.com">Udacities</a> course I took on robotics and also follows Dr. Thrun's book <em>Probabilistic Robotics</em></p>
<dl class="docutils">
<dt>Localization</dt>
<dd>Estimating a robot's coordinates in an external (e.g., world) reference frame. Typically this is the transformation between a robot's local frame and a global (world) reference frame. This allows a robot to determine its pose (x,y,:math:<cite>theta</cite>) by fusing multiple noisy sensor readings in its local frame and either manipulating objects in the global map or navigating through free space in the global map.</dd>
<dt>Belief</dt>
<dd>A robot's momentary estimate of its location, represented as a probability density function, over the entire space of all locations</dd>
<dt>Location</dt>
<dd>A robots position in an external reference frame (e.g., <span class="math">\((x,y)\)</span>)</dd>
<dt>Pose</dt>
<dd>A robot's location with its orientation (e.g., <span class="math">\((x,y,\theta)\)</span>)</dd>
<dt>Prior Belief</dt>
<dd>Start/initialize the belief to a uniform max confusion</dd>
<dt>Posterior Belief</dt>
<dd>After measurements are taken</dd>
<dt>Position Tracking</dt>
<dd>When a robot estimate's its pose over time given an initial pose.</dd>
<dt>Global Localization</dt>
<dd>When a robot must figure out where it is and it was not given an initial pose.</dd>
<dt>Kidnapped Robot</dt>
<dd>Although a robot will probably not be kidnapped, the realistic situation is  a robot whose global localization has failed. Thus, the robot thinks it is somewhere it is not. Eventually, sensor readings will appear that will force the robot to realize it doesn't know where it is. Therefore, a robot must be able to recover from a failure of this type.</dd>
</dl>
<div class="figure align-center">
<img alt="" src="{filename}/blog/robots/pics/monte-carlo.png" />
</div>
<p><span class="math">\(p(x_i | z)\)</span> posterior distribution given measurement z</p>
<div class="section" id="inaccurate-robot-motion">
<h2>Inaccurate Robot Motion</h2>
<div class="figure align-center">
<img alt="" src="{filename}/blog/robots/pics/bad_robot_motion.png" style="width: 500px;" />
</div>
<div class="math">
\begin{equation*}
p(x_{i+2} | x_i) = 0.8
p(x_{i+1} | x_i) = 0.1
p(x_{i+3} | x_i) = 0.1
\end{equation*}
</div>
<div class="figure align-center">
<img alt="" src="{filename}/blog/robots/pics/robot_state_transition.png" style="width: 500px;" />
</div>
<ul class="simple">
<li>loose info from movement</li>
<li>gains info from sensing</li>
</ul>
<p>entropy: <span class="math">\(\sum p(x_i) log p(x_i)\)</span></p>
</div>
<div class="section" id="types-of-localization-filters">
<h2>Types of Localization Filters</h2>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="8%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Filter</th>
<th class="head">Type</th>
<th class="head">Comments</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Kalman Filter (KF)</td>
<td>Probabalistic</td>
<td>Linear</td>
</tr>
<tr><td>Extended Kalman Filter (EKF)</td>
<td>Probabalistic</td>
<td>Non-linear equations linearized by taking 1st derivative (e.g., Jacobian)</td>
</tr>
<tr><td>Information Filter</td>
<td>Probabalistic</td>
<td>Linear</td>
</tr>
<tr><td>Histogram Filter (HF)</td>
<td>Non-parametric</td>
<td>Decomposes state space into finite many convex regions and represents the cumulative posterior for each region by a single probability value</td>
</tr>
<tr><td>Partical Filter (PF)</td>
<td>Non-parametric</td>
<td>Like the HF, it approximates the posterior by a finite number of parameters. The samples of the posterior are called 'particals'</td>
</tr>
</tbody>
</table>
<div class="section" id="simple-example">
<h3>Simple Example</h3>
<p>Taken from <strong>Probabilistic Robots</strong>, the figure below shows how a robot figures out globally where it is.</p>
<div class="figure align-center">
<img alt="" src="../../../../blog/robots/pics/markov_localization.jpg" />
</div>
<ul class="simple">
<li>The first position, the robot doesn't know where it is, so the belief (<span class="math">\(overline{bel}_0(x)\)</span> is set equally for all locations</li>
<li>Next, the robot detects a door, so the position, <span class="math">\(p(z_0|x)\)</span>, is set to likely infront of every door on the map.</li>
<li>The belief function is updated by multiplying the position esitmate with the previous belief. Now the robot thinks it is equally likely it is infront of a door, but low probability it is anywhere along the wall.</li>
<li>The robot move a distance and also moves the belief distrobution an equal amount ... note it is now infront of another door (different than the first)</li>
<li>Again, the position is updated such that the robot believes it is infront of a door, but it is unable to determine which door.</li>
<li>Updating the belief function with this new information (old belief multiplied with new position) results in the robot now believing strongly it is infront of the second door.</li>
<li>Moving the robot some more (and the belief distrobution), the robot knows it is not infront of a door, but somewhere along a wall. Updating the current belief function (position given it is not infront of door multiplied by the old belief function moved the distance the robot moved) results in the robot believing it is somewhere along the wall.</li>
</ul>
<p>Markov localization is independed of the underlying representation of the state space.</p>
</div>
</div>
<div class="section" id="references">
<h2>References</h2>
<ul class="simple">
<li>Sebastian Thrun, Wolfram Burgard, and Dieter Fox. 2005. Probabilistic Robotics (Intelligent Robotics and Autonomous Agents). The MIT Press.</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Particle_filter">Partical filters on Wikipedia</a></li>
</ul>
</div>
<script type='text/javascript'>if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "left",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>

<p align="center"><a href="#">on the top</a></p>
    </div>
</div>
<div id="footer-wrapper">
<ul class="footer">
</ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2016&nbsp;Kevin J. Walchko&nbsp;::</li>
    <li class="footer"><a href="../../../..">Planet Express </a>&nbsp;::</li>
    <li class="footer"><a href="https://github.com/getpelican">pelican</a></li>
    <!-- <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed">Content CC BY-NC</a>&nbsp;::</li> -->
    <!-- <li class="footer"><a href="http://fontawesome.io">Font Awesome <i class="fa fa-flag"></i></a></li> -->
    <!-- <li class="footer"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></li> -->
</ul>
<span><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></span>
</div></body>
</html>