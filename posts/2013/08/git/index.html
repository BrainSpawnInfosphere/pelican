<!-- This is for the actual single article -->


<!DOCTYPE html>
<html lang="en">
<head>
  <title>Git | Planet Express</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<meta name="description" content="Using git"><meta name="author" content="walchko">  <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
  <meta http-equiv="Cache-Control" content="max-age=604800, must-revalidate" />
  <link href="../../../../theme/css/screen.css" rel="stylesheet" type="text/css" />
  <link href="../../../../theme/css/pygments.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="../../../../favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon">
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
  <div class="logo"><a href="../../../..">Planet Express</a></div>
  <div class="small">Our crew is replaceable. Your package isn't.</div>
  <div class="nav">
  <li><a href="../../../../about.html">About Me</a></li>
  <li><a href="../../../../colophon.html">Colophon</a></li>
  <li><a href="../../../../categories.html">Topics</a></li>
  <li><a href="../../../../archives.html">Blog</a></li>
  </div>
  <div class="nav social">
<ul>
    <li><a href="http://github.com/walchko"><i class="fa fa-github-alt fa-2x"></i></a></li>
    <li><a href="http://stackoverflow.com/users/5374768/kevin"><i class="fa fa-stack-overflow fa-2x"></i></a></li>
    <li><a href="http://raspberrypi.stackexchange.com/users/1677/kevin"><i class="fa fa-stack-exchange fa-2x"></i></a></li>
</ul>  </div>
</div>    <div id="main">

<!--  -->

<h2><a href="../../../../posts/2013/08/git">Git</a></h2>
<h5><i class="icon-feather"></i> Sat 17 August 2013
<i class="icon-bookmarks"></i>
</h5>

<div class="figure align-center">
<img alt="" src="../../../../blog/computers/pics/github.png" style="width: 200px;" />
</div>
<p>Git is a version control system (VCS).</p>
<p><strong>Note</strong>: For some reason the ass clowns at Github quietly put in support for
large files, so you have to install an extension to github. If you don't, it
can be painful to work with github from the command line.</p>
<p>For OSX:</p>
<pre class="literal-block">
brew install git-lfs
</pre>
<div class="section" id="git-cheat-sheet">
<h2>Git Cheat Sheet</h2>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="28%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Command</th>
<th class="head">Example</th>
<th class="head">Definition</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Init</td>
<td><tt class="docutils literal">git init</tt></td>
<td>Start a repository</td>
</tr>
<tr><td>Clone</td>
<td><tt class="docutils literal">git clone <span class="pre">git://somewhere.com/something.git</span> [new_name]</tt></td>
<td>Create a copy of a repository</td>
</tr>
<tr><td>Remote</td>
<td><tt class="docutils literal">git remote <span class="pre">-v</span></tt></td>
<td>Display remote repository</td>
</tr>
<tr><td>Push</td>
<td><tt class="docutils literal">git push origin [master]</tt></td>
<td>Share changes to an upstream remote (origin) for a branch</td>
</tr>
<tr><td>Commit</td>
<td><tt class="docutils literal">git commit <span class="pre">-m</span> 'update'</tt></td>
<td>One step add/push upstream</td>
</tr>
<tr><td>Add</td>
<td><tt class="docutils literal">git add *.c</tt></td>
<td>Add files to the repository or to stage files for commit</td>
</tr>
<tr><td>Fetch</td>
<td><tt class="docutils literal">git fetch [origin]</tt></td>
<td>Pull all changes from a remote repository that have been pushed since you cloned it. Note this doesn't merge any of the changes.</td>
</tr>
<tr><td>Pull</td>
<td><tt class="docutils literal">git pull</tt></td>
<td>Will automatically <tt class="docutils literal">fetch</tt> and merge changes from upstream into current branch</td>
</tr>
<tr><td>Tag</td>
<td><tt class="docutils literal">git tag <span class="pre">-a</span> v1.4 <span class="pre">-m</span> 'my Version 1.4'</tt></td>
<td>Create an annotated tag, note you may have to: <tt class="docutils literal">git push origin v1.4</tt> or <tt class="docutils literal">git push origin <span class="pre">--tags</span></tt> to get tags push on upstream server.</td>
</tr>
<tr><td>Status</td>
<td><tt class="docutils literal">git status</tt></td>
<td>Reports the status of untracked changes in your working repository</td>
</tr>
<tr><td>Diff</td>
<td><tt class="docutils literal">git diff</tt></td>
<td>Display changes between working directory and repository</td>
</tr>
<tr><td>Rm</td>
<td><tt class="docutils literal">git rm file.c</tt></td>
<td>Remove files from repository</td>
</tr>
<tr><td>Mv</td>
<td><tt class="docutils literal">git mv from_file to_file</tt></td>
<td>Move files</td>
</tr>
<tr><td>Log</td>
<td><tt class="docutils literal">git log</tt></td>
<td>View the commit log</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="git-setup">
<h2>Git Setup</h2>
<p>Let's start off with making git look nice:</p>
<pre class="literal-block">
git config --global color.ui true
</pre>
<p>Since we will work remotely, we need to tell git who we are. Git stores
that info in <tt class="docutils literal"><span class="pre">~/.gitconfig</span></tt></p>
<pre class="literal-block">
git config --global user.name &quot;walchko&quot;
git config --global user.email kevin.walchko&#64;hotmail.com
</pre>
</div>
<div class="section" id="working-with-git">
<h2>Working with Git</h2>
<p>You may need to create an ssh keys following the <a class="reference external" href="https://help.github.com/articles/generating-ssh-keys">github directions</a></p>
<p>Basically:</p>
<ol class="arabic">
<li><p class="first">create a key:</p>
<pre class="literal-block">
ssh-keygen -t rsa -C &quot;pi&#64;bender.local&quot;
</pre>
</li>
<li><p class="first">Add the key to the key agent:</p>
<pre class="literal-block">
pi&#64;bender ~ $ eval &quot;$(ssh-agent -s)&quot;
Agent pid 12480
pi&#64;bender ~ $ ssh-add ~/.ssh/id_rsa
Identity added: /home/pi/.ssh/id_rsa (/home/pi/.ssh/id_rsa)
</pre>
<p>You can also run <tt class="docutils literal"><span class="pre">ssh-add</span> <span class="pre">-l</span></tt> to see what keys have been loaded.</p>
</li>
<li><p class="first">Go to github and add a new ssh key under your profile. Copy/paste in
the key (use <tt class="docutils literal">more <span class="pre">~/.ssh/id_rsa.pub</span></tt>) making sure not to add or
remove white space. You can also use <tt class="docutils literal">pbcopy &lt; <span class="pre">~/.ssh/id_rsa.pub</span></tt> to copy it to your
clip board on macOS.</p>
</li>
<li><p class="first">Then try to ssh in:</p>
<pre class="literal-block">
pi&#64;bender ~ $ ssh -T git&#64;github.com
The authenticity of host 'github.com (192.30.252.128)' can't be established.
RSA key fingerprint is 1d:57:ac:a4:76:23:2d:34:63:1b:56:4d:74:7f:76:48.
Are you sure you want to continue connecting (yes/no)? yes
Warning: Permanently added 'github.com,192.30.252.128' (RSA) to the list of known hosts.
Hi walchko! You've successfully authenticated, but GitHub does not provide shell access.
</pre>
</li>
</ol>
<p><strong>Success!</strong></p>
<p>Now clone a repository, make sure you use the <tt class="docutils literal">ssh</tt> address and not
the default https one</p>
<pre class="literal-block">
git clone git&#64;github.com:walchko/soccer.git
</pre>
<p><strong>Note:</strong> The https one has <tt class="docutils literal">https</tt> in the address: <tt class="docutils literal"><span class="pre">https://github.com/walchko/soccer2.git</span></tt></p>
<p>if you accidentally clone the <tt class="docutils literal">https</tt> one, you can switch to <tt class="docutils literal">ssh</tt> by</p>
<pre class="literal-block">
git remote set-url origin git&#64;github.com:walchko/soccer2.git
</pre>
</div>
<div class="section" id="git-workflow">
<h2>Git Workflow</h2>
<p>Read <a class="reference external" href="http://rogerdudler.github.io/git-guide/">this</a> awesome guide</p>
<ol class="arabic">
<li><p class="first">Make sure your current copy is up to date</p>
<pre class="literal-block">
git pull
</pre>
</li>
<li><p class="first">Create a new branch to hold your new feature</p>
<pre class="literal-block">
git checkout -b my-cool-new-thing
</pre>
</li>
<li><p class="first">Edit your code. To see status:</p>
<pre class="literal-block">
git status
On branch master
Your branch is up-to-date with 'origin/master'.
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)

        modified:   docs/computers/git.rst

no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)
</pre>
</li>
<li><p class="first">Add files to stash (AKA index or cache):</p>
<pre class="literal-block">
git add *
</pre>
</li>
<li><p class="first">Commit files (locally) to HEAD in your <tt class="docutils literal">.git</tt> repository:</p>
<pre class="literal-block">
git commit -m &quot;what did you do?&quot;
pi&#64;bender ~/soccer/IMU $ git push origin master
Counting objects: 12, done.
Compressing objects: 100% (8/8), done.
Writing objects: 100% (8/8), 736 bytes, done.
Total 8 (delta 6), reused 0 (delta 0)
To git&#64;github.com:walchko/soccer.git
   8162ade..cd9a476  master -&gt; master
</pre>
</li>
<li><p class="first">Push changes upstream to github (or where ever) so everyone can use them</p>
<pre class="literal-block">
git push origin master
</pre>
<p>or <tt class="docutils literal">git push</tt> because <tt class="docutils literal">origin master</tt> is the default.</p>
</li>
<li><p class="first">Create a tag</p>
<pre class="literal-block">
git tag -a v0.5.3 -m &quot;update&quot;
git push origin v0.5.3
</pre>
</li>
</ol>
<p>To undo what you have committed already and basically create an anti-patch for each commit</p>
<pre class="literal-block">
git revert 0766c053 25eee4ca a867b4af
</pre>
</div>
<div class="section" id="submodules">
<h2>Submodules</h2>
<p>Sometimes you need to include another git in your project ... how do you do that?</p>
<pre class="literal-block">
git submodule add git&#64;github.com:adafruit/Adafruit_Python_PureIO.git
</pre>
<p>This will include it. Now you can track development and update as necessary to
the latest code. This will also add a <tt class="docutils literal">.gitmodules</tt> to your project which
will track what submodules (other git projects) you are tracking.</p>
<p>When you need to clone your project (and the submodules too) though, you now
have to do:</p>
<pre class="literal-block">
git clone --recursive git&#64;github.com:...
</pre>
<p>This will pull your project and any submodules your project has too.</p>
</div>
<div class="section" id="setting-up-your-own-server-on-the-rpi">
<h2>Setting up your own server on the RPi</h2>
<p><a class="reference external" href="https://www.sitepoint.com/setting-up-your-raspberry-pi-as-a-git-server/">tutorial</a></p>
</div>
<div class="section" id="references">
<h2>References</h2>
<ul class="simple">
<li><a class="reference external" href="http://rogerdudler.github.io/git-guide/">git - the simple guide</a></li>
<li><a class="reference external" href="http://marklodato.github.io/visual-git-guide/index-en.html">A visual git Reference</a></li>
<li><a class="reference external" href="https://www.youtube.com/watch?v=5Q7omG_9RkI">Git for ages 4 and up</a></li>
<li><a class="reference external" href="http://ndpsoftware.com/git-cheatsheet.html">Interactive cheatsheet</a></li>
<li><a class="reference external" href="https://git-scm.com/docs">git-scm.com</a></li>
</ul>
</div>


<p align="center"><a href="#">on the top</a></p>
    </div>
</div>
<div id="footer-wrapper">
<ul class="footer">
</ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2016&nbsp;Kevin J. Walchko&nbsp;::</li>
    <li class="footer"><a href="../../../..">Planet Express </a>&nbsp;::</li>
    <li class="footer"><a href="https://github.com/getpelican">pelican</a></li>
    <!-- <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed">Content CC BY-NC</a>&nbsp;::</li> -->
    <!-- <li class="footer"><a href="http://fontawesome.io">Font Awesome <i class="fa fa-flag"></i></a></li> -->
    <!-- <li class="footer"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></li> -->
</ul>
<span><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></span>
</div></body>
</html>