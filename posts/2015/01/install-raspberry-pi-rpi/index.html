<!-- This is for the actual single article -->


<!DOCTYPE html>
<html lang="en">
<head>
  <title>Install Raspberry Pi (RPi) | Planet Express</title>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<meta name="description" content="Installing Rasbian"><meta name="author" content="walchko">  <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
  <meta http-equiv="Cache-Control" content="max-age=604800, must-revalidate" />
  <link href="../../../../theme/css/screen.css" rel="stylesheet" type="text/css" />
  <link href="../../../../theme/css/pygments.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="../../../../favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="../../../../favicon.ico" type="image/x-icon">
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
  <div class="logo"><a href="../../../..">Planet Express</a></div>
  <div class="small">Our crew is replaceable. Your package isn't.</div>
  <div class="nav">
  <li><a href="../../../../about.html">About Me</a></li>
  <li><a href="../../../../colophon.html">Colophon</a></li>
  <li><a href="../../../../categories.html">Topics</a></li>
  <li><a href="../../../../archives.html">Blog</a></li>
  </div>
  <div class="nav social">
<ul>
    <li><a href="http://github.com/walchko"><i class="fa fa-github-alt fa-2x"></i></a></li>
    <li><a href="http://stackoverflow.com/users/5374768/kevin"><i class="fa fa-stack-overflow fa-2x"></i></a></li>
    <li><a href="http://raspberrypi.stackexchange.com/users/1677/kevin"><i class="fa fa-stack-exchange fa-2x"></i></a></li>
</ul>  </div>
</div>    <div id="main">

<!--  -->

<h2><a href="../../../../posts/2015/01/install-raspberry-pi-rpi">Install Raspberry Pi (RPi)</a></h2>
<h5><i class="icon-feather"></i> Fri 02 January 2015
<i class="icon-bookmarks"></i>
</h5>

<div class="figure align-center">
<img alt="" src="../../../../blog/raspbian/pics/rpi-org.png" style="width: 200px;" />
</div>
<div class="section" id="where-to-buy">
<h2>Where to buy?</h2>
<p>I always buy mine from <a class="reference external" href="https://www.adafruit.com">Adafruit</a>, they
have tons of other great stuff at great prices. They also make make lots
of example code and drivers available for their products.</p>
</div>
<div class="section" id="install">
<h2>Install</h2>
<p><a class="reference external" href="http://www.raspbian.org">Raspbian</a> is a Raspberry optimized version
of Debian. The version installed here is based on Debian Jessie.</p>
<pre class="literal-block">
[kevin&#64;raspberrypi ~]$ lscpu
Architecture:          armv6l
Byte Order:            Little Endian
CPU(s):                1
On-line CPU(s) list:   0
Thread(s) per core:    1
Core(s) per socket:    1
Socket(s):             1
</pre>
<p>Note this output doesn't really tell you much other than it is ARMv6.</p>
</div>
<div class="section" id="copying-an-image-to-the-sd-card-in-mac-os-x">
<h2>Copying an image to the SD Card in Mac OS X</h2>
<div class="figure">
<img alt="sd logo" src="../../../../blog/raspbian/pics/sd.jpg" style="width: 200px;" />
</div>
<p>These commands and actions need to be performed from an account that has
administrator privileges.</p>
<ol class="arabic">
<li><p class="first">Download the image from a <a class="reference external" href="http://www.raspberrypi.org/downloads">mirror or
torrent</a>.</p>
</li>
<li><p class="first">Verify if the the hash key is the same (optional), in the terminal
run:</p>
<pre class="literal-block">
shasum ~/Downloads/debian6-19-04-2012.zip
</pre>
</li>
<li><p class="first">Extract the image:</p>
<pre class="literal-block">
unzip ~/Downloads/debian6-19-04-2012.zip
</pre>
</li>
<li><p class="first">Attach the SD Card to the computer and identify the mount point:</p>
<pre class="literal-block">
df -h
</pre>
<p>Record the device name of the filesystem's partition, e.g.
<tt class="docutils literal">/dev/disk3s1</tt></p>
</li>
<li><p class="first">Unmount the partition so that you will be allowed to overwrite the
disk, note that unmount is <strong>NOT</strong> the same as eject:</p>
<pre class="literal-block">
sudo diskutil unmount /dev/disk3s1
</pre>
</li>
<li><p class="first">Write the image to the card with this command:</p>
<pre class="literal-block">
sudo dd bs=1m if=rasbian.img of=/dev/rdisk3
</pre>
</li>
<li><p class="first">After the dd command finishes, eject the card:</p>
<pre class="literal-block">
sudo diskutil eject /dev/disk3
</pre>
</li>
<li><p class="first">Insert it in the raspberry pi, and have fun</p>
</li>
</ol>
</div>
<div class="section" id="pi-zero-only">
<h2>Pi Zero Only</h2>
<p>You need to make a couple more changes before you put the SD card into the Pi.</p>
<p>In <tt class="docutils literal">config.txt</tt>, add the following to the bottom:</p>
<pre class="literal-block">
dtoverlay=dwc2
</pre>
<p>In <tt class="docutils literal">cmdline.txt</tt>, add this right after <tt class="docutils literal">rootwait</tt>:</p>
<pre class="literal-block">
modules-load=dwc2,g_ether
</pre>
<p>Now put the SD card in the Pi and plug the Pi into your computer with a USB cable.</p>
<p>To give it access to the internet:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>System Preferences</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Sharing</dt>
<dd><ul class="first last">
<li>Share your connection from: WiFi (or Ethernet if you have a wired connection)</li>
<li>To computers using: RNDIS/Ethernet Gadget</li>
<li>Then check/select <tt class="docutils literal">Internet Sharing</tt> in the service box</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p><strong>Note:</strong> If you already plugged in your Pi to your computer, you will need to
reboot the Pi using:</p>
<pre class="literal-block">
sudo reboot
</pre>
<p>This process sets up a dhcp server for the <tt class="docutils literal">RNDIS/Ethernet Gadget</tt> and assigns
it an IP address, then allows it to talk to the internet using WiFi.</p>
<p>A good resource is <a class="reference external" href="file:///Users/kevin/Desktop/Connect%20To%20A%20Raspberry%20Pi%20Zero%20With%20A%20USB%20Cable%20And%20SSH.htm">here</a></p>
</div>
<div class="section" id="configuration">
<h2>Configuration</h2>
<p>Once you download and install Raspbian you have to configure it for it to be useful.</p>
<ol class="arabic simple">
<li><dl class="first docutils">
<dt><tt class="docutils literal">sudo <span class="pre">raspi-config</span></tt> and change</dt>
<dd><ol class="first last arabic">
<li>update <tt class="docutils literal"><span class="pre">raspi-config</span></tt> via the advanced option, update</li>
<li>hostname</li>
<li><dl class="first docutils">
<dt>memory split between GPU and RAM</dt>
<dd><ol class="first last arabic">
<li>set local to en-US (the default is en-GB)</li>
</ol>
</dd>
</dl>
</li>
<li>resize the file system to the size of your disk</li>
<li>set correct timezone via the internationalization option</li>
<li>turn on I2C interface</li>
</ol>
</dd>
</dl>
</li>
<li><tt class="docutils literal">sudo <span class="pre">apt-get</span> update</tt> and then <tt class="docutils literal">sudo <span class="pre">apt-get</span> upgrade</tt></li>
<li><tt class="docutils literal">sudo <span class="pre">apt-get</span> install <span class="pre">apt-show-versions</span></tt></li>
<li><tt class="docutils literal">wget <span class="pre">https://bootstrap.pypa.io/get-pip.py</span></tt> and then <tt class="docutils literal">python <span class="pre">get-pip.py</span></tt></li>
<li><tt class="docutils literal">sudo <span class="pre">apt-get</span> install <span class="pre">rpi-update</span></tt> and then <tt class="docutils literal">sudo <span class="pre">rpi-update</span></tt> to update the kernel</li>
<li><dl class="first docutils">
<dt>Fix the pip paths so you don't have to use sudo (that is a security risk)</dt>
<dd><ol class="first last arabic">
<li><tt class="docutils literal">sudo chown <span class="pre">-R</span> pi /usr/local</tt></li>
<li><tt class="docutils literal">sudo chown <span class="pre">-R</span> pi <span class="pre">/usr/lib/python2.7/dist-packages</span></tt></li>
</ol>
</dd>
</dl>
</li>
<li>Fix the <tt class="docutils literal">pip</tt> compile issues <tt class="docutils literal">sudo <span class="pre">apt-get</span> install <span class="pre">python-dev</span></tt></li>
<li>Find outdated python libraries with <tt class="docutils literal">pip list <span class="pre">--outdated</span></tt> then update them with <tt class="docutils literal">pip install <span class="pre">-U</span> package_name</tt></li>
</ol>
</div>
<div class="section" id="useful-software">
<h2>Useful Software</h2>
<p>Add the following software with:</p>
<pre class="literal-block">
sudo apt-get install &lt;package&gt; &lt;package&gt; ...
</pre>
<p>Some useful packages are:</p>
<ul class="simple">
<li>cmake</li>
<li>build-essential</li>
<li>python-dev</li>
<li>nmap</li>
<li>arp-scan</li>
<li>htop</li>
<li>git</li>
</ul>
<p>Add the following software with:</p>
<pre class="literal-block">
pip install &lt;package&gt; &lt;package&gt; ...
</pre>
<ul class="simple">
<li>pyarchey</li>
<li>numpy</li>
</ul>
</div>
<div class="section" id="headless">
<h2>Headless</h2>
<p>Raspbian is now posting images for a <em>Lite</em> version of Raspbian, I suggest you
use that if you are doing headless.</p>
</div>
<div class="section" id="ssh-login">
<h2>SSH Login</h2>
<p>To increase security, you can disable password logins and rely on ssh
public keys. To do this, take a look
<a class="reference external" href="https://wiki.archlinux.org/index.php/SSH_Keys">here</a> for details.
Basic steps are:</p>
<ol class="arabic">
<li><p class="first">Generate an ssh key:</p>
<pre class="literal-block">
ssh-keygen
</pre>
</li>
<li><p class="first">Copy the public key (.pub) to the server you will connect to:</p>
<pre class="literal-block">
ssh-copy-id username&#64;remote-server.org
</pre>
</li>
<li><p class="first">Edit /etc/ssh/sshd_config to disable password logins:</p>
<pre class="literal-block">
PasswordAuthentication no
ChallengeResponseAuthentication no
</pre>
</li>
</ol>
<div class="section" id="osx">
<h3>OSX</h3>
<p>On OSX install <tt class="docutils literal"><span class="pre">ssh-copy-id</span></tt> via <tt class="docutils literal">brew</tt> and in a terminal window on OSX:</p>
<pre class="literal-block">
ssh-copy-id pi&#64;raspberry.local
</pre>
</div>
</div>


<p align="center"><a href="#">on the top</a></p>
    </div>
</div>
<div id="footer-wrapper">
<ul class="footer">
</ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2016&nbsp;Kevin J. Walchko&nbsp;::</li>
    <li class="footer"><a href="../../../..">Planet Express </a>&nbsp;::</li>
    <li class="footer"><a href="https://github.com/getpelican">pelican</a></li>
    <!-- <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed">Content CC BY-NC</a>&nbsp;::</li> -->
    <!-- <li class="footer"><a href="http://fontawesome.io">Font Awesome <i class="fa fa-flag"></i></a></li> -->
    <!-- <li class="footer"><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></li> -->
</ul>
<span><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a></span>
</div></body>
</html>